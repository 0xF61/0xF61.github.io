<!doctype html><html lang=tr-tr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/style.css><link rel=icon type=image/png href=/favicon.png><meta http-equiv=cache-control content=public><meta name=description content="Burada bir ÅŸey yok"><title>Stack 0 | Emir (0xF61)</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-135684308-2"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','UA-135684308-2');</script></head><body><nav><ul class=menu>|<li><a href=/>Ana Sayfa</a></li>|<li><a href=/yaz%C4%B1lar/>YazÄ±lar</a></li>|<li><a href=/etiketler/>Etiketler</a></li>|<li><a href=/linkler/>Linkler</a></li>|<li><a href=/ara/>Ara</a></li>|</ul><hr></nav><div class=article-meta></div><span class=rtime>ğŸ“– 3 dakika</span>
<a href=..>â†ª Protostar</a><h1 class=baslik>Stack 0</h1><main><h2 id=stack0-c>Stack0.c</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C data-lang=C><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdlib.h&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;unistd.h&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdio.h&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>
<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(<span style=color:#66d9ef>int</span> argc, <span style=color:#66d9ef>char</span> <span style=color:#f92672>**</span>argv)
{
    <span style=color:#66d9ef>volatile</span> <span style=color:#66d9ef>int</span> modified;
    <span style=color:#66d9ef>char</span> buffer[<span style=color:#ae81ff>64</span>];

    modified <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
    gets(buffer);

    <span style=color:#66d9ef>if</span>(modified <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span>) {
        printf(<span style=color:#e6db74>&#34;you have changed the &#39;modified&#39; variable</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
    } <span style=color:#66d9ef>else</span> {
        printf(<span style=color:#e6db74>&#34;Try again?</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
    }
}</code></pre></div><p><strong>AmaÃ§:</strong> &ldquo;you have changed the &lsquo;modified&rsquo; variable&rdquo; satÄ±rÄ±nÄ± yazdÄ±rmak.</p><p>Ä°stediÄŸimiz cÃ¼mleyi yazdÄ±rabilmemiz iÃ§in programÄ±n akÄ±ÅŸÄ±nÄ± deÄŸiÅŸtirilebilmemiz
gerekiyor. Bunun iÃ§in bir yukarÄ±daki if koÅŸulunun saÄŸlanmasÄ± gerekmekte, bunun
iÃ§inde <em>modified</em> deÄŸiÅŸkeninin yukarÄ±da tanÄ±mlanan 0 deÄŸerinden baÅŸka bir deÄŸere
sahip olmasÄ± gerekmekte.</p><h2 id=programÄ±n-Ã§alÄ±ÅŸtÄ±rÄ±lmasÄ±>ProgramÄ±n Ã§alÄ±ÅŸtÄ±rÄ±lmasÄ±</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>user@protostar:/opt/protostar/bin$ ./stack0
Merhaba
Try again?</code></pre></div><p>ProgrammÄ± Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±m zaman <em>gets()</em> fonksiyonuyla kullanÄ±cÄ±dan stdin&rsquo;den
deÄŸer aldÄ±ÄŸÄ±nÄ± daha sonra <em>modified</em> deÄŸiÅŸkeni hala 0 olduÄŸu iÃ§in &ldquo;Try again?&rdquo;
mesajÄ±nÄ± yazdÄ±rdÄ±ÄŸÄ±nÄ± gÃ¶rÃ¼yoruz.</p><h2 id=gets-fonsiyonundaki-sorun>gets() Fonsiyonundaki Sorun</h2><p>Burada <em>gets()</em> fonksiyonuna dikkat etmek gerekiyor. EÄŸer man sayfalarÄ±nÄ±
kontrol edecek olursak.</p><p><em>Never use gets(). Because it is impossible to tell without knowing the data in</em>
<em>advance how many characters gets() will read, and because gets() will</em>
<em>continue to store characters past the end of the buffer, it is extremely</em>
<em>dangerous to use. It has been used to break computer security.</em></p><p>Yani gets() fonksiyonu stack frame&rsquo;e istediÄŸimiz gibi doldurabilmemize olanak
saÄŸlÄ±yor. Burada stack frame ile kast edilen ÅŸey programdaki fonksiyonlarÄ± lokal
deÄŸiÅŸkenleri stack iÃ§erisinde atÄ±lÄ±r ve her fonksiyonun kendine ait bir stack
frame&rsquo;i bulunur. BÃ¶ylece program iÃ§erisindeki fonksiyonlar birbirlerinin
deÄŸiÅŸkenlerine eriÅŸemezler. -Global deÄŸiÅŸkenler bundan farklÄ± olarak adresleri
ile Ã§aÄŸÄ±rÄ±lÄ±rlar ve bu deÄŸiÅŸkenler stack veya heap dÄ±ÅŸÄ±nda <em>Data Section</em>
tutulur.</p><h2 id=Ã§alÄ±ÅŸtÄ±rÄ±labilir-dosyanÄ±n-bÃ¶lÃ¼mleri>Ã‡alÄ±ÅŸtÄ±rÄ±labilir dosyanÄ±n bÃ¶lÃ¼mleri</h2><ul><li>Code (Text)</li><li>Data</li><li>Stack</li><li>Heap</li></ul><p><strong>Code (Text):</strong> BasitÃ§e makina kodlarÄ±nÄ±n bulunduÄŸu bÃ¶lÃ¼m.</p><p><strong>Data:</strong> Global ve statik deÄŸiÅŸken adreslerinin bulunduÄŸu bÃ¶lÃ¼m.</p><p><strong>Stack:</strong> Lokal deÄŸiÅŸkenlerin bulunduÄŸu bÃ¶lÃ¼m. BelleÄŸin sonundan <em>Data</em> kÄ±smÄ±na
doÄŸru bÃ¼yÃ¼r. -Stack pointerin adresi kÃ¼Ã§Ã¼lÃ¼r-</p><p><strong>Heap:</strong> Dinamik deÄŸiÅŸkenlerin bulunduÄŸu bÃ¶lÃ¼m. Data bÃ¶lÃ¼mÃ¼nden belleÄŸin alt
kÄ±sÄ±mlarÄ±na doÄŸru bÃ¼yÃ¼r.</p><h2 id=modified-deÄŸiÅŸkenini-deÄŸiÅŸtirilmesi>Modified DeÄŸiÅŸkenini DeÄŸiÅŸtirilmesi</h2><p>YukarÄ±daki bilgiler doÄŸrultusunda gets() fonksiyonunu kullanarak aynÄ± stack
frame&rsquo;de bulunan modified deÄŸiÅŸkenini deÄŸiÅŸtirebiliriz. Bunu yapmak aslÄ±nda
Ã§ok kolay. Programa input verirken <em>buffer[64]</em>&lsquo;Ä± doldurduktan sonra yazmaya
devam etmemiz yeterli.</p><hr><p>Ä°stediÄŸim kadar harf Ã¼retebilmek iÃ§in python&rsquo;dan yardÄ±m alÄ±yorum</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>user@protostar:/opt/protostar/bin$ python -c <span style=color:#e6db74>&#34;print(&#39;A&#39;*64)&#34;</span>
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</code></pre></div><hr><p>64 tane A verdiÄŸimiz zaman ilk seferde Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±mdaki Ã§Ä±ktÄ±yÄ± gÃ¶rÃ¼yorum bu
zaten buffer dolduÄŸu fakat modified deÄŸiÅŸkeni deÄŸiÅŸmediÄŸi iÃ§in beklenilen sonuÃ§.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>user@protostar:/opt/protostar/bin$ ./stack0 <span style=color:#75715e>#64 Tane A</span>
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
Try again?</code></pre></div><hr><p>Buffer dolduktan hemen sonra modified (int) deÄŸiÅŸkeni(4 byte) olduÄŸu iÃ§in sadece
tek bir byte&rsquo;Ä±nÄ± deÄŸiÅŸtirmem yetti.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>user@protostar:/opt/protostar/bin$ ./stack0 <span style=color:#75715e>#65 Tane A</span>
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
you have changed the <span style=color:#e6db74>&#39;modified&#39;</span> variable</code></pre></div><hr><p>EÄŸer buffer ve 4byte&rsquo;lÄ±k modified deÄŸiÅŸkenini deÄŸiÅŸtirdikten sonra yazmaya devam
edersek &ldquo;Segmentation fault&rdquo; denilen hata ile karÅŸÄ±laÅŸÄ±rÄ±z. <em>Segmentation Fault</em>
programÄ±n kendi hafÄ±za alanÄ±nÄ±n dÄ±ÅŸÄ±ndaki bir adrese eriÅŸmeye Ã§alÄ±ÅŸtÄ±ÄŸÄ± zaman
iÅŸletim sistemi tarafÄ±ndan dÃ¶ndÃ¼rÃ¼len bir hatadÄ±r.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>user@protostar:/opt/protostar/bin$ ./stack0 <span style=color:#75715e>#100 Tane A</span>
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
you have changed the <span style=color:#e6db74>&#39;modified&#39;</span> variable
Segmentation fault</code></pre></div></main><footer><hr><a href=/index.xml>Feed</a></footer></body></html>